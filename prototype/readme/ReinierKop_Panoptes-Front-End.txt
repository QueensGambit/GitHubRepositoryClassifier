b"# Panoptes (front end)\n\n## Development\n\nRequires Node.js.\n\nRun `npm install` to get started.\n\n`npm start` runs **./bin/serve.sh**, which watches the main CoffeeScript and Stylus files and runs a little server out of **./public** on port 3735 (looks like EYES).\n\n`npm run stage` runs **./bin/build.sh** which builds and optimizes the site, and then deploys it to <http://demo.zooniverse.org/panoptes-front-end>.\n\nAll the good stuff is in **./app**. Start at **./app/main.cjsx**\n\n### Conventions\n\nReact requires each component in an array to have a sibling-unique `key`. When rendering arrays of things that do not have IDs (annotations, answers), provide a random `_key` property if it doesn't exist. Ensure underscore-prefixed properties aren't persisted. That's automatic with the `JSONAPIClient.Model` class.\n\n```coffee\n<ul>\n  {for item in things\n    item._key ?= Math.random()\n    <li key={item._key}>{item.label}</li>}\n</ul>\n```\n\n### Async helper components\n\nThere are some nice components to help with async values. They take a function as `@props.children`, which looks a little horsey but works rather nicely. Most promised values we're dealing with are cached, so these are usually pretty safe, but if you notice the same request being made several times these are a good place to look. Here's an example of re-rendering for `auth` changes, which is pretty common.\n\n```coffee\n<ChangeListener target={auth}>{=>\n  <PromiseRenderer promise={auth.checkCurrent()}>{(user) =>\n    if user?\n      <p>User is {user.display_name}</p>\n    else\n      <p>Nobody's signed in.</p>\n  }</PromiseRenderer>\n}</ChangeListener>\n```\n\n### CSS conventions\n\nInclude any CSS required to makes things work inline in the component, otherwise keep it in a separate file, one per component. For a given component, pick a unique top-level class name for that component and nest child classes under it. Keep common base styles and variables in **common.styl**. Stylus formatting: Yes colons, no semicolons, no braces. `@extends` up top, then properties (alphabetically), then descendant selectors. Prefer use of `display: flex` and `flex-wrap: wrap` to explicit media queries wherever possible.\n\n```styl\n// <special-button.styl>\n.special-button\n  background: red\n  color: white\n\n// <special-container.styl>\n.special-container\n  margin: 1em 1vw\n\n  .special-button\n    border: 1px solid\n```\n\n## Use in custom projects\n\nIf you're writing a custom project against the Panoptes API, you can use this module to handle authentication and data access. Install it with `npm install panoptes`.\n\n```coffee\npanoptes = require 'panoptes'\n\npanoptes.auth.register {login, password, email}\npanoptes.auth.signOut()\npanoptes.auth.signIn {login, password}\n\npanoptes.api.type('projects').get(SOME_PROJECT_ID).then (project) ->\n  project.update display_name: 'A great project'\n  project.link('workflows').then (workflows) ->\n    workflows[1].delete()\n    project.save()\n```\n\nMore at the Panoptes API docs: <http://docs.panoptes.apiary.io/>.\n"