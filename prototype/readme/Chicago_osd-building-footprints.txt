b'README\n======\n\nCAUTION! This repository is very large \n\nThe City of Chicago is releasing selected datasets from the [data portal](http://data.cityofchicago.org \'Chicago Data Portal\') under the MIT License (see below). This repository contains:\n\n1. Data in a GeoJSON format.\n2. Examples of importing data into R, Python, and Ruby.\n3. Instructions to transform data from the data portal to data in the repository.\n\nWorking with GeoJSON Data\n=========================\n\nThe data was released as a [GeoJSON](http://www.geojson.org/geojson-spec.html) file. Below are some simple instructions which will show you how to load GeoJSON in R, Python, and Ruby.\n\nR\n---\n\nFind an example script [here](/examples/Importing%20GeoJSON%20R%20Demo.R \'Importing GeoJSON data to R\'). This example will import the data in R and create a couple of maps.\n\nInstructions:\n\n1. Set the working directory to the location of the downloaded repository.\n    ```r\n    setwd("path\\\\to\\\\osd-building-footprints")\n    ```\n\n2. Install the "rgdal" library to let R read and translate the data from GeoJSON to a Shapefile. We will use "ggplot2" library to transform the spatial data frame to a regular data frame--and to make a map.\n    ```r    \n    install.packages(c("rgdal","ggplot2"))\n    ```\n\n3. Load the libraries:\n    ```r    \n    library(rgdal)\n    library(ggplot2)\n    ```\n\n4. Import data to a spatial dataframe. City data is typically created using the transverse Mercator projection.\n    ```r\n    ogrInfo("data\\\\Buildings.json", layer="OGRGeoJSON")\n    buildings.shapefile <- readOGR(dsn="data\\\\Buildings.json", layer="OGRGeoJSON", p4s="+proj=tmerc +ellps=WGS84")\n    ```\n\n5. Lets convert the spatial dataframe to a typical dataframe.\n    ```r\n    buildings.table <- fortify(buildings.shapefile)\n    ```\n\n6. Review the new dataframe.\n    ```r\n    head(buildings.table)\n    ```\n\n7. Plot the data.\n    ```r\n    ggplot(buildings.table, aes(x=long, y=lat, group=group)) + geom_polygon()\n    ```\n\nHere is the output you should expect from the plot() command:\n![plot(buildings.shapefile)](/examples/R-plot-buildings.png)\n\nHere is the output you should expect from the ggplot() command:\n![ggplot(buildings.df, aes(x=long, y=lat, group=group))+geom_path()](/examples/R-ggplot-buildings.png)\n    \nPython\n------\n\nFind an example script [here](/examples/Importing%20GeoJSON%20Python%20Demo.py \'Importing GeoJSON data to Python Demo\').\n\n1. Load the necessary json and pprint libraries.\n\t```python\n\timport json\n\t```\n\n2. Open GeoJSON data file.\n\t```python\n\tbuildings_json = open(\'PATH/TO/osd-building-footprints/data/Buildings.json\', \'r\')\n\t```\n\n3. Check first few lines of data (repeat this command several times)\n    ```python\n    buildings.readline()\n    ```\n\n4. Load GeoJSON file.\n\t```python\n\tbuildings = json.load(buildings_json)\n\t```\n\n5. Close the open GeoJSON file.\n\t```python\n\tjson.close(buildings_json)\n\t```\n\nRuby\n----\n\nAn example ruby script is provided to show loading GeoJSON and running spatial analysis using the RGeo suite. A simple Gemfile is provided to make getting the dependencies and using them easy.\n\n        $ cd PATH/TO/osd-building-footprints/examples/ruby\n        $ bundle\n        $ ruby example.rb\n\nThis example script filters the `Buildings.json` to street segments within a 500ft buffer of 50 W Washington.\n\nDifferences between data portal and this repository\n===================================================\n\nThough the data in this repository is also available on Chicago\'s data portal, the data in this repository is different in several ways. First, the data within this repository is released under the MIT License. Second, this data has been edited to remove internal codes which do not provide useful information. Third, after changes were made to the dataset, the original shapefile was converted to GeoJSON using [GDAL\'s](http://www.gdal.org/, \'Geospatial Data Abstraction Library\') [ogr2ogr](http://www.gdal.org/ogr2ogr.html)\n\nThe translation from portal to repository involves several steps. First, the original DBF file is transformed using OpenRefine to elminate unhelpful columns and clean data. The "Transformatons" folder contains the corresponding JSON, which contains the detailed list of changes made to the original table.\n\nThe resulting shapefile is then translated to GeoJSON using the ogr2ogr from the GDAL application. The transformation is completed in the command prompt:\n\nogr2ogr -f "GeoJSON" Buildings_ogr.json /path/to/portal/data/Buildings.shp\n\nUnfortunately, ogr2ogr outputs in machine, but not human-readable files. At this time, we have not translated this to a more human readable form due to the large file size.\n\nThe folder "Transformations" contains the necessary code to transform data on the portal to the release in this repository.\n\nLicense\n=======\nThis data is released under the [MIT License](http://opensource.org/licenses/MIT \'MIT License\'). See LICENSE.txt.'