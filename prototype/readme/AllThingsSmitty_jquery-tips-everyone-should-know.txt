b'# jQuery Tips Everyone Should Know [![Awesome](https://cdn.rawgit.com/sindresorhus/awesome/d7305f38d29fed78fa85652e3a63e154dd8e8829/media/badge.svg)](https://github.com/sindresorhus/awesome)\n\nA collection of simple tips to help up your jQuery game.\n\n> For other great lists check out [@sindresorhus](https://github.com/sindresorhus/)\'s curated list of [awesome lists](https://github.com/sindresorhus/awesome/).\n\n\n## Table of Contents\n\n* [Tips](#tips)\n* [Support](#support)\n* [Translations](#translations)\n* [Contribution Guidelines](CONTRIBUTING.md)\n\n\n## Tips\n\n1. [Checking If jQuery Loaded](#checking-if-jquery-loaded)\n1. [Use `.on()` Binding Instead of `.click()`](#use-on-binding-instead-of-click)\n1. [Back to Top Button](#back-to-top-button)\n1. [Preload Images](#preload-images)\n1. [Checking If Images Are Loaded](#checking-if-images-are-loaded)\n1. [Fix Broken Images Automatically](#fix-broken-images-automatically)\n1. [Post a Form with AJAX](#post-a-form-with-ajax)\n1. [Toggle Classes on Hover](#toggle-classes-on-hover)\n1. [Disabling Input Fields](#disabling-input-fields)\n1. [Stop the Loading of Links](#stop-the-loading-of-links)\n1. [Cache jQuery Selectors](#cache-jquery-selectors)\n1. [Toggle Fade/Slide](#toggle-fadeslide)\n1. [Simple Accordion](#simple-accordion)\n1. [Make Two Divs the Same Height](#make-two-divs-the-same-height)\n1. [Open External Links in New Tab/Window](#open-external-links-in-new-tabwindow)\n1. [Find Element By Text](#find-element-by-text)\n1. [Trigger on Visibility Change](#trigger-on-visibility-change)\n1. [Ajax Call Error Handling](#ajax-call-error-handling)\n1. [Chain Plugin Calls](#chain-plugin-calls)\n1. [Sort List Items Alphabetically](#sort-list-items-alphabetically)\n\n\n### Checking If jQuery Loaded\n\nBefore you can do anything with jQuery you first need to make certain it has loaded:\n\n```javascript\nif (typeof jQuery == \'undefined\') {\n  console.log(\'jQuery hasn\\\'t loaded\');\n} else {\n  console.log(\'jQuery has loaded\');\n}\n```\n\nNow you\'re off...\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Use `.on()` Binding Instead of `.click()`\n\nUsing `.on()` gives you several advantages over using `.click()`, such as the ability to add multiple events...\n\n```javascript\n.on(\'click tap hover\')\n```\n\n...a binding applies to dynamically created elements, as well (there\'s no need to manually bind every single element dynamically added to a DOM element)...\n\n...and the possibility to set a namespace:\n\n```javascript\n.on(\'click.menuOpening\')\n```\n\nNamespaces give you the power to unbind a specific event (e.g., `.off(\'click.menuOpening\')`).\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Back to Top Button\n\nBy using the `animate` and `scrollTop` methods in jQuery you don\'t need a plugin to create a simple scroll-to-top animation:\n\n```javascript\n// Back to top\n$(\'.container\').on(\'click\', \'.back-to-top\', function (e) {\n  e.preventDefault();\n  $(\'html, body\').animate({scrollTop: 0}, 800);\n});\n```\n\n```html\n<!-- Create an anchor tag -->\n<div class="container">\n  <a href="#" class="back-to-top">Back to top</a>\n</div>\n```\n\nChanging the `scrollTop` value changes where you wants the scrollbar to land. All you\'re really doing is animating the body of the document throughout the course of 800 milliseconds until it scrolls to the top of the document.\n\n**Note:** Watch for some [buggy behavior](https://github.com/jquery/api.jquery.com/issues/417) with `scrollTop`.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Preload Images\n\nIf your web page uses a lot of images that aren\'t visible initially (e.g., on hover) it makes sense to preload them:\n\n```javascript\n$.preloadImages = function () {\n  for (var i = 0; i < arguments.length; i++) {\n    $(\'<img>\').attr(\'src\', arguments[i]);\n  }\n};\n\n$.preloadImages(\'img/hover-on.png\', \'img/hover-off.png\');\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Checking If Images Are Loaded\n\nSometimes you might need to check if your images have fully loaded in order to continue on with your scripts:\n\n```javascript\n$(\'img\').on(\'load\', function () {\n  console.log(\'image load successful\');\n});\n```\n\nYou can also check if one particular image has loaded by replacing the `<img>` tag with an ID or class.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Fix Broken Images Automatically\n\nIf you happen to find broken image links on your site replacing them one by one can be a pain. This simple piece of code can save a lot of headaches:\n\n```javascript\n$(\'img\').on(\'error\', function () {\n  if(!$(this).hasClass(\'broken-image\')) {\n    $(this).prop(\'src\', \'img/broken.png\').addClass(\'broken-image\');\n  }\n});\n```\n\nAlternatively, if you wish to simply hide broken images this snippet will take care of that for:\n\n```javascript\n$(\'img\').on(\'error\', function () {\n  $(this).hide();\n});\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Post a Form with AJAX\n\njQuery AJAX methods are a common way to request text, HTML, XML, or JSON. If you wanted to send a form via AJAX you could collect the user inputs via the `val()` method:\n\n```javascript\n$.post(\'sign_up.php\', {\n  user_name: $(\'input[name=user_name]\').val(),\n  email:     $(\'input[name=email]\').val(),\n  password:  $(\'input[name=password]\').val(),\n});\n```\n\nHowever, all of those `val()` calls are expensive. A better way of collecting the user inputs is using the `serialize()` function which collects the user inputs as a string:\n\n```javascript\n$.post(\'sign_up\', $(\'#sign-up-form\').serialize());\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Toggle Classes on Hover\n\nLet\'s say you want to change the visual of a clickable element on your page when a user hovers over it. You can add a class to your element when the user is hovering; when the user stops hovering removes the class:\n\n```javascript\n$(\'.btn\').on(\'hover\', function () {\n  $(this).addClass(\'hover\');\n}, function () {\n  $(this).removeClass(\'hover\');\n});\n```\n\nYou just need to add the necessary CSS. If you want an even _simpler_ way use the `toggleClass` method:\n\n```javascript\n$(\'.btn\').on(\'hover\', function () {\n  $(this).toggleClass(\'hover\');\n});\n```\n\n**Note:** CSS may be a faster solution in this case but it\'s still worthwhile to know this.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Disabling Input Fields\n\nAt times you may want the submit button of a form or one of its text inputs to be disabled until the user has performed a certain action (e.g., checking the "I\'ve read the terms" checkbox). Add the `disabled` attribute to your input so you can enable it when you want:\n\n```javascript\n$(\'input[type="submit"]\').prop(\'disabled\', true);\n```\n\nAll you need to do is run the `prop` method again on the input, but set the value of `disabled` to `false`:\n\n```javascript\n$(\'input[type="submit"]\').prop(\'disabled\', false);\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Stop the Loading of Links\n\nSometimes you don\'t want links to go to a certain web page nor reload the page; you might want them to do something else like trigger some other script. This will do the trick of preventing the default action:\n\n```javascript\n$(\'a.no-link\').on(\'click\', function (e) {\n  e.preventDefault();\n});\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Cache jQuery Selectors\n\nThink of how many times you write the same selector over and over again in any project. Every `$(\'.element\')` selector has to search the entire DOM each time, regardless if that selector had previously run. Instead, run the selector once and store the results in a variable:\n\n```javascript\nvar blocks = $(\'#blocks\').find(\'li\');\n```\n\nNow you can use the `blocks` variable wherever you want without having to search the DOM every time:\n\n```javascript\n$(\'#hideBlocks\').on(\'click\', function () {\n  blocks.fadeOut();\n});\n\n$(\'#showBlocks\').on(\'click\', function () {\n  blocks.fadeIn();\n});\n```\n\nCaching jQuery selectors are an easy performance gain.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Toggle Fade/Slide\n\nSliding and fading are something we use plenty in our animations with jQuery. You might just want to show an element when a user clicks something, which makes the `fadeIn` and `slideDown` methods perfect. But if you want that element to appear on the first click and then disappear on the second this will work just fine:\n\n```javascript\n// Fade\n$(\'.btn\').on(\'click\', function () {\n  $(\'.element\').fadeToggle(\'slow\');\n});\n\n// Toggle\n$(\'.btn\').on(\'click\', function () {\n  $(\'.element\').slideToggle(\'slow\');\n});\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Simple Accordion\n\nThis is a simple method for a quick accordion:\n\n```javascript\n// Close all panels\n$(\'#accordion\').find(\'.content\').hide();\n\n// Accordion\n$(\'#accordion\').find(\'.accordion-header\').on(\'click\', function () {\n  var next = $(this).next();\n  next.slideToggle(\'fast\');\n  $(\'.content\').not(next).slideUp(\'fast\');\n  return false;\n});\n```\n\nBy adding this script all you really needs to do on your web page is the necessary HTML go get this working.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Make Two Divs the Same Height\n\nSometimes you\'ll want two divs to have the same height no matter what content they have in them:\n\n```javascript\n$(\'.div\').css(\'min-height\', $(\'.main-div\').height());\n```\n\nThis example sets the `min-height` which means that it can be bigger than the main div but never smaller. However, a more flexible method would be to loop over a set of elements and set the height to the height of the tallest element:\n\n```javascript\nvar $columns = $(\'.column\');\nvar height = 0;\n$columns.each(function () {\n  if ($(this).height() > height) {\n    height = $(this).height();\n  }\n});\n$columns.height(height);\n```\n\nIf you want _all_ columns to have the same height:\n\n```javascript\nvar $rows = $(\'.same-height-columns\');\n$rows.each(function () {\n  $(this).find(\'.column\').height($(this).height());\n});\n```\n\n**Note:** This can be done several ways [in CSS](http://codepen.io/AllThingsSmitty/pen/KMPqoO) but depending on what your needs are, knowing how to do this in jQuery is still worthwhile.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Open External Links in New Tab/Window\n\nOpen external links in a new browser tab or window and ensure links on the same origin open in the same tab or window:\n\n```javascript\n$(\'a[href^="http"]\').attr(\'target\', \'_blank\');\n$(\'a[href^="//"]\').attr(\'target\', \'_blank\');\n$(\'a[href^="\' + window.location.origin + \'"]\').attr(\'target\', \'_self\');\n```\n\n**Note:** `window.location.origin` doesn\'t work in IE10. [This fix](http://tosbourn.com/a-fix-for-window-location-origin-in-internet-explorer/) takes care of the issue.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Find Element By Text\n\nBy using the `contains()` selector in jQuery you can find text in content of an element. If text doesn\'t exists, that element will be hidden:\n\n```javascript\nvar search = $(\'#search\').val();\n$(\'div:not(:contains("\' + search + \'"))\').hide();\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Trigger on Visibility Change\n\nTrigger JavaScript when the user is no longer focusing on a tab, or refocuses on a tab:\n\n```javascript\n$(document).on(\'visibilitychange\', function (e) {\n  if (e.target.visibilityState === \'visible\') {\n    console.log(\'Tab is now in view!\');\n  } else if (e.target.visibilityState === \'hidden\') {\n    console.log(\'Tab is now hidden!\');\n  }\n});\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Ajax Call Error Handling\n\nWhen an Ajax call returns a 404 or 500 error the error handler will be executed. If the handler isn\'t defined, other jQuery code might not work anymore. Define a global Ajax error handler:\n\n```javascript\n$(document).on(\'ajaxError\', function (e, xhr, settings, error) {\n  console.log(error);\n});\n```\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Chain Plugin Calls\n\njQuery allows for the "chaining" of plugin method calls to mitigate the process of repeatedly querying the DOM and creating multiple jQuery objects. Let\'s say the following snippet represents your plugin method calls:\n\n```javascript\n$(\'#elem\').show();\n$(\'#elem\').html(\'bla\');\n$(\'#elem\').otherStuff();\n```\n\nThis could be vastly improved by using chaining:\n\n```javascript\n$(\'#elem\')\n  .show()\n  .html(\'bla\')\n  .otherStuff();\n```\n\nAn alternative is to cache the element in a variable (prefixed with `$`):\n\n```javascript\nvar $elem = $(\'#elem\');\n$elem.hide();\n$elem.html(\'bla\');\n$elem.otherStuff();\n```\n\nBoth chaining and [caching](#cache-jquery-selectors) methods in jQuery are best practices that lead to shorter and faster code.\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n### Sort List Items Alphabetically\n\nLet\'s say you end up with too many items in a list. Maybe the content is produced by a CMS and you want to order them alphabetically:\n\n```javascript\nvar ul = $(\'#list\'),\nlis = $(\'li\', ul).get();\n\nlis.sort(function (a, b) {\n  return ($(a).text().toUpperCase() < $(b).text().toUpperCase()) ? -1 : 1;\n});\n\nul.append(lis);\n```\n\nThere you go!\n\n<sup>[back to table of contents](#table-of-contents)</sup>\n\n\n## Support\n\nCurrent versions of Chrome, Firefox, Safari, Opera, Edge, and IE11.\n\n\n## Translations\n\n* [Espa\xc3\xb1ol](https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know/tree/master/translations/es-ES)\n* [Fran\xc3\xa7ais](https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know/tree/master/translations/fr-FR)\n* [P\xd1\x83\xd1\x81\xd1\x81\xd0\xba\xd0\xb8\xd0\xb9](https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know/tree/master/translations/ru-RU)\n* [\xe7\xae\x80\xe4\xbd\x93\xe4\xb8\xad\xe6\x96\x87](https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know/tree/master/translations/zh-CN)\n* [\xe7\xb9\x81\xe9\xab\x94\xe4\xb8\xad\xe6\x96\x87](https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know/tree/master/translations/zh-TW)\n'